# Video-Editing--Automation
n8n workflow for automated video editing using Shotstack API with LLM-generated templates via Cohere.
# n8n Video Editor Automation using Shotstack and LLM (Cohere)

This repository contains an **n8n workflow** for **automated video editing** using the **Shotstack API**, with **dynamic templates generated by an LLM (Cohere)**.

It automates:

‚úÖ Template generation using an LLM (no manual editing)  
‚úÖ Automated video rendering using Shotstack  
‚úÖ Status polling until completion  
‚úÖ Fully automated pipeline without human intervention

---

## üìå Project Overview

### Problem Statement

Create a workflow that:
- Takes 2-3 videos and a few images as input
- Uses **Shotstack API** to produce an edited video automatically
- Uses an **LLM chain** to generate the **template JSON** dynamically, ensuring no human-designed templates.

---

### Solution Approach

1Ô∏è‚É£ **Trigger**: Starts workflow manually or via an external trigger.

2Ô∏è‚É£ **LLM Template Generation**:
- Uses **Cohere API** to generate a JSON-based Shotstack edit template dynamically.
- The LLM designs the video structure, including:
  - Asset sequence (videos/images)
  - Source URLs
  - Asset types
  - Start times & durations
  - Resolution & output settings

3Ô∏è‚É£ **Template Processing**:
- A **Function node in n8n** parses and transforms the LLM output JSON into Shotstack‚Äôs required structure.
- Handles:
  - Data type conversions
  - Mapping of `layer_type` (LLM) ‚Üí `asset.type` (Shotstack)
  - Time conversions from HH:MM:SS to seconds
  - Resolution validation and mapping

4Ô∏è‚É£ **Video Rendering**:
- Sends a POST request to `https://api.shotstack.io/edit/stage/render` with the structured JSON to initiate rendering.

5Ô∏è‚É£ **Polling for Completion**:
- Implements a polling mechanism:
  - Periodically checks the render status via GET requests to `https://api.shotstack.io/edit/stage/render/{renderId}`
  - Waits and re-checks until the render completes or fails.

6Ô∏è‚É£ **Retrieve Final Video URL** upon successful render.

---

## üõ†Ô∏è Files Included

- `Video_Editor.json` ‚Äì The exported **n8n workflow**, ready to import into your n8n instance.

---

## üß© How to Use

1Ô∏è‚É£ **Import Workflow:**
- Download `Video_Editor.json`.
- Import into your local n8n instance via:
  - `n8n` UI ‚Üí Workflows ‚Üí Import.

2Ô∏è‚É£ **Set Up Credentials:**
- **Cohere API Key** (for LLM prompt execution).
- **Shotstack API Key** (for video rendering).
- Add these securely as n8n credentials or environment variables.

3Ô∏è‚É£ **Run Workflow:**
- Trigger the workflow manually or integrate into your automation pipeline.

4Ô∏è‚É£ **Retrieve Output:**
- On completion, get your video URL and review the automatically edited video.

---

## üöÄ Demo

üé• [Watch Sample Output](https://shotstack-api-stage-output.s3-ap-southeast-2.amazonaws.com/522ac32sw7/a629f194-219b-4721-8330-db43360e985f.mp4)

---


## üöß Current Status

This workflow was tested and executed successfully during initial development.  
Currently, it may require updates to adapt to:
- API changes in Shotstack or Cohere
- Updated n8n versions

**At this time, no active maintenance is planned.**

---

## üí° Possible Extensions

- Automatic asset URL ingestion from a Google Sheet or Notion database.
- Slack/Telegram notifications when rendering is complete.
- Adding intro/outro slides dynamically.
- Auto-uploading completed videos to YouTube or Vimeo.

---

## üìú License

This project is licensed under the [MIT License](./LICENSE).
